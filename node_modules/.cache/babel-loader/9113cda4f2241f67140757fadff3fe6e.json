{"ast":null,"code":"var _jsxFileName = \"/Users/yuchenpeng/dao_terminal_v0/src/App.js\",\n  _s = $RefreshSig$();\n// import logo from './logo.svg';\nimport './App.css';\nimport { useState, useEffect } from \"react\";\nimport React from 'react';\nimport axios from 'axios';\n// import TimeSeriesChart from './timeseriesChart';\nimport moment from 'moment';\nimport { CONFIG } from \"./config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [items, setItems] = useState([]);\n\n  // setup for Timeseries graph\n  const [graphData, setGraph] = useState([]);\n  const [weiData, setWei] = useState([]);\n  const [graphErr, setErr] = useState(false);\n\n  //call getData funciton use React Hook\n  useEffect(() => {\n    getData();\n  }, []);\n  const handleGraph = async filter => {\n    setErr(false);\n    setGraph([]);\n    setWei([]);\n    let from = moment().subtract(filter, 'days').format('YYYY-MM-DD');\n    const blockchain_id = \"1\";\n    const address_id = \"0x4d224452801ACEd8B2F0aebE155379bb5D594381\";\n    const currentDay = moment().format('YYYY-MM-DD');\n    let api_call = filter > 0 ?\n    // 2 dates (from - to)\n    `https://api.covalenthq.com/v1/${blockchain_id}/nft_market/collection/${address_id}/?from=${from}&to=${currentDay}` :\n    // 1 date (current date - all data before it)\n    `https://api.covalenthq.com/v1/${blockchain_id}/nft_market/collection/${address_id}/?to=${currentDay}`;\n\n    // Request for floor prices and add parameters to format for graph\n    try {\n      const resp = await axios.get(api_call, {\n        auth: {\n          username: CONFIG.TEMPLATE.api_key\n        }\n      });\n\n      // Organize response data to insert into graph\n      setGraph(resp.data.data.items.map(i => ({\n        x: i.opening_date,\n        y: i.floor_price_quote_7d\n      })).reverse());\n      setWei(resp.data.data.items.map(i => ({\n        x: i.opening_date,\n        y: i.floor_price_wei_7d / 10 ** 18\n      })).reverse());\n      setErr(false);\n    } catch (error) {\n      setErr(true);\n    }\n  };\n  const handleCollection = async () => {\n    let collection = [];\n    const blockchain_id = \"1\";\n    const address_id = \"0x4d224452801ACEd8B2F0aebE155379bb5D594381\";\n    try {\n      const resp = await axios.get(`https://api.covalenthq.com/v1/${blockchain_id}/nft_market/collection/${address_id}/`, {\n        auth: {\n          username: CONFIG.TEMPLATE.api_key\n        }\n      });\n    } catch (error) {}\n    if (CONFIG.TEMPLATE.timeseries_chart) {\n      //call endpoint with 7 day parameters as default for graph\n      handleGraph(7);\n    }\n  };\n  // get data for Chain names and Chain heights\n  const getData = async () => {\n    try {\n      const response = await axios.get('https://api.covalenthq.com/v1/chains/status/?key=ckey_af1d8bda66e340bd835f1855487');\n      console.log(response.data.data);\n      setItems(response.data.data.items);\n    } catch (err) {\n      // Handle Error Here\n      console.error(err);\n    }\n  };\n\n  // Use APE coin as an example to get token holders\n  const getTokenHolders = async () => {\n    try {\n      const response = await axios.get('https://api.covalenthq.com/v1/chains/status/?key=ckey_af1d8bda66e340bd835f1855487');\n      console.log(response.data.data);\n      setItems(response.data.data.items);\n    } catch (err) {\n      // Handle Error Here\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: item.synced_block_height\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 12\n        }, this)]\n      }, item.chain_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 10\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 4\n  }, this);\n}\n_s(App, \"Mm/0yNWUu4bivzQ8tg0StDylqWo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","React","axios","moment","CONFIG","App","items","setItems","graphData","setGraph","weiData","setWei","graphErr","setErr","getData","handleGraph","filter","from","subtract","format","blockchain_id","address_id","currentDay","api_call","resp","get","auth","username","TEMPLATE","api_key","data","map","i","x","opening_date","y","floor_price_quote_7d","reverse","floor_price_wei_7d","error","handleCollection","collection","timeseries_chart","response","console","log","err","getTokenHolders","item","name","synced_block_height","chain_id"],"sources":["/Users/yuchenpeng/dao_terminal_v0/src/App.js"],"sourcesContent":[" \n// import logo from './logo.svg';\nimport './App.css';\nimport {useState, useEffect} from \"react\"\nimport React from 'react';\nimport axios from 'axios';\n// import TimeSeriesChart from './timeseriesChart';\nimport moment from 'moment';\nimport {CONFIG} from \"./config\"\nfunction App() {\n const [items, setItems] = useState([])\n \n // setup for Timeseries graph\n const [graphData, setGraph] = useState([])\n const [weiData, setWei] = useState([])\n const [graphErr, setErr] = useState(false)\n\n \n //call getData funciton use React Hook\n useEffect(() => {\n   getData()\n }, [])\n\n const handleGraph = async(filter) => {\n   setErr(false)\n   setGraph([])\n   setWei([])\n   let from = moment().subtract(filter, 'days').format('YYYY-MM-DD')\n\n   const blockchain_id = \"1\"\n   const address_id = \"0x4d224452801ACEd8B2F0aebE155379bb5D594381\"\n   const currentDay =moment().format('YYYY-MM-DD')\n\n   let api_call = filter > 0 ? \n   // 2 dates (from - to)\n   `https://api.covalenthq.com/v1/${blockchain_id}/nft_market/collection/${address_id}/?from=${from}&to=${currentDay}` \n   : \n   // 1 date (current date - all data before it)\n   `https://api.covalenthq.com/v1/${blockchain_id}/nft_market/collection/${address_id}/?to=${currentDay}`\n\n   // Request for floor prices and add parameters to format for graph\n   try{\n    const resp = await axios.get(api_call, {auth: {username: CONFIG.TEMPLATE.api_key}})\n\n    // Organize response data to insert into graph\n    setGraph(resp.data.data.items.map(i => ({x:i.opening_date, y:i.floor_price_quote_7d})).reverse())\n    setWei(resp.data.data.items.map(i => ({x:i.opening_date, y:i.floor_price_wei_7d / 10 ** 18})).reverse())\n    setErr(false)\n  }catch(error){\n      setErr(true)\n  }\n }\n\n const handleCollection = async() => {\n   let collection = []\n   const blockchain_id = \"1\"\n   const address_id = \"0x4d224452801ACEd8B2F0aebE155379bb5D594381\"\n   try{\n     const resp= await axios.get(`https://api.covalenthq.com/v1/${blockchain_id}/nft_market/collection/${address_id}/`,{auth: {username: CONFIG.TEMPLATE.api_key}})\n   }catch(error){}\n\n   if (CONFIG.TEMPLATE.timeseries_chart){\n     //call endpoint with 7 day parameters as default for graph\n     handleGraph(7)\n   }\n }\n // get data for Chain names and Chain heights\n const getData = async() => {\n   try {\n     const response = await axios.get('https://api.covalenthq.com/v1/chains/status/?key=ckey_af1d8bda66e340bd835f1855487');\n     console.log(response.data.data);\n     setItems(response.data.data.items)\n        } catch (err) {\n     // Handle Error Here\n     console.error(err);\n    }\n }\n \n // Use APE coin as an example to get token holders\n const getTokenHolders = async() => {\n   try {\n     const response = await axios.get('https://api.covalenthq.com/v1/chains/status/?key=ckey_af1d8bda66e340bd835f1855487');\n     console.log(response.data.data);\n     setItems(response.data.data.items)\n        } catch (err) {\n     // Handle Error Here\n     console.error(err);\n    }\n }\n \n \n \n return (\n   <div className=\"App\">\n     <div>\n       {items.map(item =>(\n         <div key={item.chain_id}>\n           <h5>{item.name}</h5>\n           <h5>{item.synced_block_height}</h5>\n         </div>\n       ))}\n       </div>\n\n\n<div>\n  \n</div>\n\n       \n   </div>\n );\n}\n \nexport default App;\n \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}