{"ast":null,"code":"import axios from 'axios';\nimport { CONFIG } from '../../config.js';\nexport default async function getSpotPrice(chainId, contractAddress, startDate, endDate, apiKey) {\n  let api_spot_price = `https://api.covalenthq.com/v1/pricing/historical_by_addresses_v2/${chainId}/USD/${contractAddress}/?quote-currency=USD&format=JSON&from=${startDate}&to=${endDate}&key=${apiKey}`;\n  let test = ``;\n  https:\n  //api.covalenthq.com/v1/pricing/historical_by_addresses_v2/1/USD/0x4d224452801ACEd8B2F0aebE155379bb5D594381/?quote-currency=USD&format=JSON&from=2022-10-20&to=2022-10-20&key=ckey_af1d8bda66e340bd835f1855487\n  try {\n    const resp = await axios.get(api_spot_price, {\n      auth: {\n        username: CONFIG.TEMPLATE.api_key\n      }\n    });\n    console.lot(\"Below is the spot price\");\n    console.log(resp);\n\n    // Organize response data to insert into graph\n    //let date_to_blockheight = resp.data.data.items.map(i => ({x:i., y:i.floor_price_quote_7d})).reverse()\n\n    //  let date_to_blockheight = resp.data.data.prices.map(i => ({x:i.}))\n    //  let start_date_block_height = date_to_blockheight[0]\n    //  let end_date_block_height = date_to_blockheight[-1]  \n  } catch (error) {\n    console.log(\"fail to fetch\");\n  }\n}","map":{"version":3,"names":["axios","CONFIG","getSpotPrice","chainId","contractAddress","startDate","endDate","apiKey","api_spot_price","test","https","resp","get","auth","username","TEMPLATE","api_key","console","lot","log","error"],"sources":["/Users/yuchenpeng/dao_terminal_v0/src/api/v1/getSpotPrices.js"],"sourcesContent":["\nimport axios from 'axios';\nimport {CONFIG} from '../../config.js'\n\n\n\n export default async function getSpotPrice(chainId, contractAddress, startDate, endDate, apiKey){\n\n    let api_spot_price = `https://api.covalenthq.com/v1/pricing/historical_by_addresses_v2/${chainId}/USD/${contractAddress}/?quote-currency=USD&format=JSON&from=${startDate}&to=${endDate}&key=${apiKey}`\n    \n    let test = ``\n\n    https://api.covalenthq.com/v1/pricing/historical_by_addresses_v2/1/USD/0x4d224452801ACEd8B2F0aebE155379bb5D594381/?quote-currency=USD&format=JSON&from=2022-10-20&to=2022-10-20&key=ckey_af1d8bda66e340bd835f1855487\n    try{\n     const resp = await axios.get(api_spot_price, {auth: {username: CONFIG.TEMPLATE.api_key}})\n     console.lot(\"Below is the spot price\")\n     console.log(resp)\n\n     // Organize response data to insert into graph\n     //let date_to_blockheight = resp.data.data.items.map(i => ({x:i., y:i.floor_price_quote_7d})).reverse()\n    \n    //  let date_to_blockheight = resp.data.data.prices.map(i => ({x:i.}))\n    //  let start_date_block_height = date_to_blockheight[0]\n    //  let end_date_block_height = date_to_blockheight[-1]  \n \n    }catch(error){\n       console.log(\"fail to fetch\")\n   }\n  }\n\n\n\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,MAAM,QAAO,iBAAiB;AAIrC,eAAe,eAAeC,YAAY,CAACC,OAAO,EAAEC,eAAe,EAAEC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAC;EAE7F,IAAIC,cAAc,GAAI,oEAAmEL,OAAQ,QAAOC,eAAgB,yCAAwCC,SAAU,OAAMC,OAAQ,QAAOC,MAAO,EAAC;EAEvM,IAAIE,IAAI,GAAI,EAAC;EAEbC,KAAK;EAAC;EACN,IAAG;IACF,MAAMC,IAAI,GAAG,MAAMX,KAAK,CAACY,GAAG,CAACJ,cAAc,EAAE;MAACK,IAAI,EAAE;QAACC,QAAQ,EAAEb,MAAM,CAACc,QAAQ,CAACC;MAAO;IAAC,CAAC,CAAC;IACzFC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtCD,OAAO,CAACE,GAAG,CAACR,IAAI,CAAC;;IAEjB;IACA;;IAED;IACA;IACA;EAEA,CAAC,QAAMS,KAAK,EAAC;IACVH,OAAO,CAACE,GAAG,CAAC,eAAe,CAAC;EAChC;AACD"},"metadata":{},"sourceType":"module"}